while (1) {
  elastic = db_config.host + ":" + port;
  // mark the latest document's date
  latest_date = get_latest_date();
  current_size = get_current_disk_size(elastic);

  // check disk space
  if (current_size < db_config.size_limit) continue;
  
  // execute number of static and dynamically provided requests
  // stores the request responses to specified path
  summarize_index(elastic, db_config.archive_path);
  
  // delete index by query
  clear_index(elastic, latest_date);
  sleep(CHECK_RATE);
}
